<html>

<head>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"/>

<title th:text="#{label.pages.combined.order.list.title}">NARF Order List</title>

<style type="text/css">

.wrapper{width:500px;margin-left:auto;margin-right:auto}
label{padding-left:0 !important}

</style>

</head>

<body>

<div lang="en" th:include="fragments/header">&nbsp;</div>

<div class="container">

		<h2 th:text="#{label.pages.home.title}" /><br />    

<div th:if="${message != null}" class="alert alert-info" th:text="${message}">message</div>
<div th:if="${error != null}" class="alert alert-danger" th:text="${session[SPRING_SECURITY_LAST_EXCEPTION]}">error</div>

<!--  <div class="generic-container"> -->
    
    <!-- Default panel contents -->
    <div class="panel panel-default">

        <div th:if="${orders.isEmpty()}">
        	<div th:if="${ordersall}">
				<div sec:authorize="hasAuthority('CUSTOMER_PRIVILEGE')">
		        	<div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.mine.orderslist.heading}"></span></div>
				</div>
	
				<div sec:authorize="hasAuthority('SUPER_PRIVILEGE')">
	    	    	<div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('ADMIN_PRIVILEGE')">
	    		    <div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('EDITOR_PRIVILEGE')">
	    	    	<div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.orderslist.heading}"></span></div>
				</div>
    	    </div>
	        <div th:if="${ordersnew}">
				<div sec:authorize="hasAuthority('CUSTOMER_PRIVILEGE')">
			        <div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.mine.new.orderslist.heading}"></span></div>
				</div>

				<div sec:authorize="hasAuthority('SUPER_PRIVILEGE')">
	    		    <div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.new.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('ADMIN_PRIVILEGE')">
    			    <div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.new.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('EDITOR_PRIVILEGE')">
    			    <div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.new.orderslist.heading}"></span></div>
				</div>
	        </div>
    	    <div th:if="${orderspending}">
				<div sec:authorize="hasAuthority('CUSTOMER_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.mine.pending.orderslist.heading}"></span></div>
				</div>
	
				<div sec:authorize="hasAuthority('SUPER_PRIVILEGE')">
    		    	<div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.pending.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('ADMIN_PRIVILEGE')">
    		    	<div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.pending.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('EDITOR_PRIVILEGE')">
    		    	<div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.pending.orderslist.heading}"></span></div>
				</div>
	        </div>
    	    <div th:if="${ordersclosed}">
				<div sec:authorize="hasAuthority('CUSTOMER_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.mine.closed.orderslist.heading}"></span></div>
				</div>

				<div sec:authorize="hasAuthority('SUPER_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.closed.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('ADMIN_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.closed.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('EDITOR_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.closed.orderslist.heading}"></span></div>
				</div>
    	    </div>
        	<div th:if="${orderscancelled}">
				<div sec:authorize="hasAuthority('CUSTOMER_PRIVILEGE')">
		        	<div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.mine.cancelled.orderslist.heading}"></span></div>
				</div>
	
				<div sec:authorize="hasAuthority('SUPER_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.cancelled.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('ADMIN_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.cancelled.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('EDITOR_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.empty.all.cancelled.orderslist.heading}"></span></div>
				</div>
    	    </div>
        </div>

        <div th:if="${!orders.isEmpty()}">
        	<div th:if="${ordersall}">
				<div sec:authorize="hasAuthority('CUSTOMER_PRIVILEGE')">
		        	<div class="panel-heading"><span class="lead" th:text="#{label.pages.mine.orderslist.heading}"></span></div>
				</div>

				<div sec:authorize="hasAuthority('SUPER_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.all.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('ADMIN_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.all.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('EDITOR_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.all.orderslist.heading}"></span></div>
				</div>
    	    </div>
	        <div th:if="${ordersnew}">
				<div sec:authorize="hasAuthority('CUSTOMER_PRIVILEGE')">
			        <div class="panel-heading"><span class="lead" th:text="#{label.pages.mine.new.orderslist.heading}"></span></div>
				</div>
	
				<div sec:authorize="hasAuthority('SUPER_PRIVILEGE')">
	    		    <div class="panel-heading"><span class="lead" th:text="#{label.pages.all.new.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('ADMIN_PRIVILEGE')">
	    		    <div class="panel-heading"><span class="lead" th:text="#{label.pages.all.new.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('EDITOR_PRIVILEGE')">
	    		    <div class="panel-heading"><span class="lead" th:text="#{label.pages.all.new.orderslist.heading}"></span></div>
				</div>
	        </div>
    	    <div th:if="${orderspending}">
				<div sec:authorize="hasAuthority('CUSTOMER_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.mine.pending.orderslist.heading}"></span></div>
				</div>

				<div sec:authorize="hasAuthority('SUPER_PRIVILEGE')">
	    	    	<div class="panel-heading"><span class="lead" th:text="#{label.pages.all.pending.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('ADMIN_PRIVILEGE')">
	    	    	<div class="panel-heading"><span class="lead" th:text="#{label.pages.all.pending.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('EDITOR_PRIVILEGE')">
	    	    	<div class="panel-heading"><span class="lead" th:text="#{label.pages.all.pending.orderslist.heading}"></span></div>
				</div>
	        </div>
    	    <div th:if="${ordersclosed}">
	
				<div sec:authorize="hasAuthority('CUSTOMER_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.mine.closed.orderslist.heading}"></span></div>
				</div>

				<div sec:authorize="hasAuthority('SUPER_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.all.closed.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('ADMIN_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.all.closed.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('EDITOR_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.all.closed.orderslist.heading}"></span></div>
				</div>
    	    </div>
        	<div th:if="${orderscancelled}">
				<div sec:authorize="hasAuthority('CUSTOMER_PRIVILEGE')">
		        	<div class="panel-heading"><span class="lead" th:text="#{label.pages.mine.cancelled.orderslist.heading}"></span></div>
				</div>

				<div sec:authorize="hasAuthority('SUPER_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.all.cancelled.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('ADMIN_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.all.cancelled.orderslist.heading}"></span></div>
				</div>
      
				<div sec:authorize="hasAuthority('EDITOR_PRIVILEGE')">
		    	    <div class="panel-heading"><span class="lead" th:text="#{label.pages.all.cancelled.orderslist.heading}"></span></div>
				</div>
    	    </div>
        </div>

        <div th:if="${!orders.isEmpty()}">
        <table class="table table-hover">
            <thead>
                <tr>
                	<th>Oid</th>
                    <th>Date Requested</th>
                    <th>Date Required</th>
                    <th>Date Supplied</th>
                    <th>Status</th>
                    <th>Type</th>
                    <th>Number</th>
                    <th>Line</th>

					<div sec:authorize="hasAuthority('SUPER_PRIVILEGE')">
                    	<th>Customer</th>
                    	<th>Assigned To</th>
                    	<th>Supplied By</th>
					</div>
      
					<div sec:authorize="hasAuthority('ADMIN_PRIVILEGE')">
                    	<th>Customer</th>
                    	<th>Assigned To</th>
                    	<th>Supplied By</th>
					</div>
      
					<div sec:authorize="hasAuthority('EDITOR_PRIVILEGE')">
                    	<th>Customer</th>
                    	<th>Assigned To</th>
                    	<th>Supplied By</th>
					</div>

                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
         	    <div th:each="order : ${orders}">
                <tr>
                    <td th:text="${order.oid}"></td>
                    <td th:text="${#dates.format(order.createdDate, 'dd/MM/yyyy')}"></td>
                    <td th:text="${#dates.format(order.requiredDate, 'dd/MM/yyyy')}"></td>
                    <td th:text="${order.suppliedDate} ? ${#dates.format(order.suppliedDate, 'dd/MM/yyyy')}"></td>
                    <td th:text="${order.OrderStatus.name}"></td>
                    <td th:text="${order.OrderType.name}"></td>

			   	    <div th:if="${order.OrderType.name == 'Bird'}">
	                    <td th:text="${order.birdRequired}"></td>
	                    <td th:text="${order.birdOrganism.name}"></td>
			   	    </div>

			   	    <div th:if="${order.OrderType.name == 'Egg'}">
	                    <td th:text="${order.eggRequired}"></td>
	                    <td th:text="${order.eggOrganism.name}"></td>
			   	    </div>

			   	    <div th:if="${order.OrderType.name == 'Embryo'}">
	                    <td th:text="${order.embryoRequired}"></td>
	                    <td th:text="${order.embryoOrganism.name}"></td>
			   	    </div>

					<div sec:authorize="hasAuthority('SUPER_PRIVILEGE')">
                    	<td th:text="${order.customerEmail}"></td>
                    	<td th:text="${order.editorEmail}"></td>
                    	<td th:text="${order.supplierEmail}"></td>
					</div>
      
					<div sec:authorize="hasAuthority('ADMIN_PRIVILEGE')">
                    	<td th:text="${order.customerEmail}"></td>
                    	<td th:text="${order.editorEmail}"></td>
                    	<td th:text="${order.supplierEmail}"></td>
					</div>
      
					<div sec:authorize="hasAuthority('EDITOR_PRIVILEGE')">
                    	<td th:text="${order.customerEmail}"></td>
                    	<td th:text="${order.editorEmail}"></td>
                    	<td th:text="${order.supplierEmail}"></td>
					</div>

                    <td>
                    	<a th:href="@{/show-combined-order-__${order.oid}__}" class="btn btn-success custom-width">SHOW</a>

					<div sec:authorize="hasAuthority('CUSTOMER_PRIVILEGE')">
            	        <div th:if="${order.OrderType.name == 'Bird'}">
        	                <a th:href="@{/edit-combined-bird-order-__${order.oid}__}" class="btn btn-danger custom-width">EDIT</a>
    	                </div>
            	        <div th:if="${order.OrderType.name == 'Egg'}">
        	                <a th:href="@{/edit-combined-egg-order-__${order.oid}__}" class="btn btn-danger custom-width">EDIT</a>
    	                </div>
            	        <div th:if="${order.OrderType.name == 'Embryo'}">
        	                <a th:href="@{/edit-combined-embryo-order-__${order.oid}__}" class="btn btn-danger custom-width">EDIT</a>
    	                </div>
					</div>

					<div sec:authorize="hasAuthority('EDITOR_PRIVILEGE')">
            	        <div th:if="${order.OrderType.name == 'Bird'}">
        	                <a th:href="@{/edit-combined-bird-order-__${order.oid}__}" class="btn btn-danger custom-width">EDIT</a>
    	                </div>
            	        <div th:if="${order.OrderType.name == 'Egg'}">
        	                <a th:href="@{/edit-combined-egg-order-__${order.oid}__}" class="btn btn-danger custom-width">EDIT</a>
    	                </div>
            	        <div th:if="${order.OrderType.name == 'Embryo'}">
        	                <a th:href="@{/edit-combined-embryo-order-__${order.oid}__}" class="btn btn-danger custom-width">EDIT</a>
    	                </div>
					</div>

					<div sec:authorize="hasAuthority('ADMIN_PRIVILEGE')">
            	        <div th:if="${order.OrderType.name == 'Bird'}">
        	                <a th:href="@{/edit-combined-bird-order-__${order.oid}__}" class="btn btn-danger custom-width">EDIT</a>
    	                </div>
            	        <div th:if="${order.OrderType.name == 'Egg'}">
        	                <a th:href="@{/edit-combined-egg-order-__${order.oid}__}" class="btn btn-danger custom-width">EDIT</a>
    	                </div>
            	        <div th:if="${order.OrderType.name == 'Embryo'}">
        	                <a th:href="@{/edit-combined-embryo-order-__${order.oid}__}" class="btn btn-danger custom-width">EDIT</a>
    	                </div>
                        <a th:href="@{/delete-combined-order-__${order.oid}__}" class="btn btn-danger custom-width">DELETE</a>
					</div>
                    
					<div sec:authorize="hasAuthority('SUPER_PRIVILEGE')">
            	        <div th:if="${order.OrderType.name == 'Bird'}">
        	                <a th:href="@{/edit-combined-bird-order-__${order.oid}__}" class="btn btn-danger custom-width">EDIT</a>
    	                </div>
            	        <div th:if="${order.OrderType.name == 'Egg'}">
        	                <a th:href="@{/edit-combined-egg-order-__${order.oid}__}" class="btn btn-danger custom-width">EDIT</a>
    	                </div>
            	        <div th:if="${order.OrderType.name == 'Embryo'}">
        	                <a th:href="@{/edit-combined-embryo-order-__${order.oid}__}" class="btn btn-danger custom-width">EDIT</a>
    	                </div>
                        <a th:href="@{/delete-combined-order-__${order.oid}__}" class="btn btn-danger custom-width">DELETE</a>
					</div>
      
                    </td>
                </tr>
            	</div>
            	
				<div sec:authorize="hasAuthority('SUPER_PRIVILEGE')">
    	        	<tr>
        	            <td colspan="12"><a th:href="@{/new-combined-bird-order}" class="btn btn-danger custom-width">ORDER BIRDS</a></td>
            	    </tr>
    	        	<tr>
        	            <td colspan="12"><a th:href="@{/new-combined-egg-order}" class="btn btn-danger custom-width">ORDER EGGS</a></td>
            	    </tr>
    	        	<tr>
        	            <td colspan="12"><a th:href="@{/new-combined-embryo-order}" class="btn btn-danger custom-width">ORDER EMBRYOS</a></td>
            	    </tr>
            	</div>

				<div sec:authorize="hasAuthority('ADMIN_PRIVILEGE')">
    	        	<tr>
        	            <td colspan="12"><a th:href="@{/new-combined-bird-order}" class="btn btn-danger custom-width">ORDER BIRDS</a></td>
            	    </tr>
    	        	<tr>
        	            <td colspan="12"><a th:href="@{/new-combined-egg-order}" class="btn btn-danger custom-width">ORDER EGGS</a></td>
            	    </tr>
    	        	<tr>
        	            <td colspan="12"><a th:href="@{/new-combined-embryo-order}" class="btn btn-danger custom-width">ORDER EMBRYOS</a></td>
            	    </tr>
		        </div>
            </tbody>
        </table>
        </div>
    
    </div>
       

<!--  </div> -->
</div>

<div lang="en" th:include="fragments/footer">&nbsp;</div>
    
</body>

</html>